<!DOCTYPE html>
<html>
    <head>
        <title>Konami Code</title>
    </head>
<body>
    <h1 id="textField">Konami Code</h1>


    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>

    <script>
        "use strict";

        $(document).keyup(function(event){
            console.log(event.keyCode);
        })

        // var konamiKeyNumbers = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];

        // var startingPosition = 0;
        //
        // $('body').keydown(function (e){
        //     var requiredKey = konamiKeyNumbers[startingPosition];
        //
        //     if (startingPosition == konamiKeyNumbers.length){
        //         alert('You have added 30 lives!')
        //     }
        // })

        //code from stackOverflow tweaked.
        //https://stackoverflow.com/questions/31626852/how-to-add-konami-code-in-a-website-based-on-html

        var allowedKeys = {
            37: 'left',
            38: 'up',
            39: 'right',
            40: 'down',
            65: 'a',
            66: 'b'
        };

        var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];

        var codePosition = 0;

        $('body').keydown(function(e) {

            var key = allowedKeys[e.keyCode];

            var requiredKey = konamiCode[codePosition];

            if (key == requiredKey) {
                codePosition++;

                if (codePosition == konamiCode.length) {
                    activateCheats();
                    codePosition = 0;
                }
            }
        });

            function activateCheats() {
                document.body.style.backgroundImage = "url('images/cooldog.jpeg')";

                var audio = new Audio('audio/aplausos_2.mp3');
                audio.play();

                alert("You have added 30 lives!");
            }


    </script>
</body>
</html>