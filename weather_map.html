<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Map</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css' rel='stylesheet' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>
<body>
<!--Header div-->
<div class="d-flex bg-primary">
<header>
    <h1>Weather App</h1>
</header>
</div>
<!--Navbar-->
<nav class="navbar navbar-light bg-light">
    <div class="container-fluid justify-content-start">
        <a class="navbar-brand">Place</a>
        <form class="d-flex">
            <input class="form-control me-2" type="search">
            <button class="btn btn-outline-dark" type="submit">Find</button>
        </form>
    </div>
</nav>
<!--div for weather tiles-->

<div class="dailyWeather d-flex col order-1 bg-danger">
<!--        <p>Date</p>-->
<!--        <p>High/Low</p>-->
<!--        <p>Humidity</p>-->
<!--        <p>Wind</p>-->
</div>







<!--<table>-->
<!--    <thead>-->
<!--    <tr>-->
<!--        <th>Title</th>-->
<!--        <th>Quantity</th>-->
<!--        <th>Price</th>-->
<!--        <th>Categories</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody id="daily-weather">-->
<!--    &lt;!&ndash;        <tr>&ndash;&gt;-->
<!--    &lt;!&ndash;            <th>Title[i].title</th>&ndash;&gt;-->
<!--    &lt;!&ndash;            <th>Quantity[i].quantity</th>&ndash;&gt;-->
<!--    &lt;!&ndash;            <th>Price[i].price</th>&ndash;&gt;-->
<!--    &lt;!&ndash;            <th>Categories[i].categories</th>&ndash;&gt;-->
<!--    &lt;!&ndash;        </tr>&ndash;&gt;-->
<!--    </tbody>-->
<!--</table>-->

<!--Map box-->
<div id='map' style='width: 100%; height: 600px;'></div>






<script src="js/keys.js"></script>
<script src="js/mapbox-geocoder-utils.js"></script>
<script src='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js'></script>
<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<!--My script-->
<script>

    'use strict';

    mapboxgl.accessToken = MAPBOX_API_TOKEN;


    var map = new mapboxgl.Map({
        container: 'map', // container ID
        style: 'mapbox://styles/mapbox/streets-v11', // style URL
        center: [-98.4664, 29.4610], // starting position [lng, lat]
        zoom: 15 // starting zoom
    });


    $.get('https://api.openweathermap.org/data/2.5/onecall', {
        lat: 29.4252,
        lon: -98.4916,
        appid:OPENWEATHER_API_TOKEN,
        exclude: 'minutely, hourly, current, alerts',
        units: 'imperial',
    }).done(function(data) {
        function createHTML(data){
            var html = ''
            for (var i = 0; i < data.daily.length; i++) {
                var dateData = data.daily[i].dt;
                var date = new Date(dateData * 1000).toDateString()
                var maxTemp = data.daily[i].temp.max;
                var minTemp = data.daily[i].temp.min;
                var humidity = data.daily[i].humidity;
                var windSpeed = data.daily[i].wind_speed;
                html +=
                    '<p>' + date + '</p>' +
                    '<p>' + 'High/Low ' + maxTemp + '/' + minTemp + '</p>' +
                    '<p>' + 'Humidity ' + humidity + '</p>' +
                    '<p>' + 'Wind' + windSpeed + '</p>'

            }
            return html;
        }
            $('.dailyWeather').html(createHTML(data))
    }).fail(function(jqXhr, status, error) {

    });

    // ' <div>' +
    //     '<p>' + date + '</p>' +
    // ' </div>' +
    //  '<div>' +
    //     '<p>' + maxTemp + '' + minTemp +'</p>' +
    //  '</div>' +
    //  '<div>' +
    //      '<p>' + humidity + '</p>' +
    //  '</div>' +
    //  '<div ">' +
    //      '<p>' + windSpeed + '</p>' +
    //  '</div>'











</script>
</body>
</html>